(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{241:function(e,t,n){"use strict";var a,r=n(42),i=n.n(r),o=n(1),c=n.n(o),l=n(64),s=n(108),u=n(23),f=n(242),m=n(14),g=n(9),d=n(214),h=function(e){var t=e.children,n=e.mode;return c.a.createElement(g.a,{style:{alignItems:"center",alignSelf:"stretch",flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:n}},t)},p=m.a.create({body1:{fontSize:16,fontWeight:"400",letterSpacing:.5},body2:{fontSize:14,fontWeight:"400",letterSpacing:.25},button:{fontSize:14,fontWeight:"500",letterSpacing:1.25},caption:{fontSize:12,fontWeight:"400",letterSpacing:.4},headline1:{fontSize:96,fontWeight:"300",letterSpacing:-1.5},headline2:{fontSize:60,fontWeight:"300",letterSpacing:-.5},headline3:{fontSize:48,fontWeight:"400",letterSpacing:0},headline4:{fontSize:34,fontWeight:"400",letterSpacing:.25},headline5:{fontSize:24,fontWeight:"400",letterSpacing:0},headline6:{fontSize:20,fontWeight:"500",letterSpacing:.15},overline:{fontSize:10,fontWeight:"400",letterSpacing:1.5},subtitle1:{fontSize:16,fontWeight:"400",letterSpacing:.15},subtitle2:{fontSize:14,fontWeight:"500",letterSpacing:.1}}),v=function(e){var t=e.users,n=e.isDark,a=Object(u.useTheme)(),r=a.colors,i=a.roundness,l=Object(o.useCallback)((function(e){var t=e.voteValue&&"hidden"!==e.voteValue?e.voteValue:"?";return c.a.createElement(u.Surface,{key:""+e.id,style:[b.userCard,{borderRadius:2*i,overflow:"hidden"}]},c.a.createElement(g.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},c.a.createElement(u.Text,{style:p.headline3},t)),c.a.createElement(g.a,{style:{alignItems:"center",backgroundColor:n?r.accent:r.primary,flexShrink:1,paddingHorizontal:4}},c.a.createElement(u.Text,{style:[p.body1,{color:n?"black":"white"}],numberOfLines:1},e.userName)))}),[r.accent,r.primary,n,i]);return c.a.createElement(h,{mode:"center"},t.map(l))},b=m.a.create({userCard:{height:150,margin:8,width:100,elevation:8}}),y=n(161),k=n.n(y),S=n(26);!function(e){e[e.JoinRequest=0]="JoinRequest",e[e.JoinResponse=1]="JoinResponse",e[e.LeaveRequest=2]="LeaveRequest",e[e.SetVoteValue=3]="SetVoteValue",e[e.SetName=4]="SetName",e[e.RoomUpdate=5]="RoomUpdate"}(a||(a={}));var E,O=function(e){var t=Object(o.useRef)(new WebSocket("wss://planningpokerserver.herokuapp.com/")).current,n=function(e){var t=window.location.search;return new URLSearchParams(t).get(e)||void 0}("roomId");"web"!==S.a.OS||n||(window.location.search="roomId="+new k.a(4).toString());var r=Object(o.useState)({id:n||new k.a(4).toString(),name:"",users:{},admin:void 0}),c=i()(r,2),l=c[0],s=c[1];e=e||"Guest";var u=Object(o.useCallback)((function(e){return t.send(JSON.stringify(e))}),[t]);Object(o.useEffect)((function(){t.onopen=function(){var t={type:a.JoinRequest,roomId:l.id,payload:{name:e}};u(t)},t.onmessage=function(e){var t=JSON.parse(e.data);switch(t.type){case a.RoomUpdate:0,s(t.payload.room)}},t.onerror=function(e){0}}),[l.id,u,e,t]),Object(o.useEffect)((function(){if(t.readyState===WebSocket.OPEN){var n={type:a.SetName,roomId:l.id,payload:{name:e}};u(n)}}),[l.id,u,e,t.readyState]);return{vote:function(e){var t={type:a.SetVoteValue,roomId:l.id,payload:{voteValue:e}};u(t)},room:l}};!function(e){e.DarkOne="#94cc7d",e.DarkTwo="#69cb30",e.DarkThree="#c8cc00",e.DarkFive="#b27500",e.DarkEight="#a10000",e.DarkThirteen="#a252b7",e.DarkTwentyOne="#8a8a8a",e.DarkUnknown="#000000",e.LightOne="#C6FFAD",e.LightTwo="#9EFF64",e.LightThree="#FFFF3C",e.LightFive="#E9A426",e.LightEight="#DB0000",e.LightThirteen="#D581EA",e.LightTwentyOne="#BABABA",e.LightUnknown="#FFFFFF"}(E||(E={}));var w=[0,1,2,3,5,8,13,21,"\ud83e\udd14"],D=function(e){var t=e.value,n=e.onPress,a=e.isDark,r=Object(o.useCallback)((function(){return n(t)}),[n,t]);return c.a.createElement(u.Card,{style:[C.valueContainer,{backgroundColor:j(t,a)}],onPress:r},c.a.createElement(g.a,{style:C.valueCard},c.a.createElement(u.Text,null,t)))},j=function(e,t){switch(e){case 1:return t?E.DarkOne:E.LightOne;case 2:return t?E.DarkTwo:E.LightTwo;case 3:return t?E.DarkThree:E.LightThree;case 5:return t?E.DarkFive:E.LightFive;case 8:return t?E.DarkEight:E.LightEight;case 13:return t?E.DarkThirteen:E.LightThirteen;case 21:return t?E.DarkTwentyOne:E.LightTwentyOne;default:return t?E.DarkUnknown:E.LightUnknown}},T=function(e){var t=e.onValuePress,n=e.isDark;return c.a.createElement(h,{mode:"center"},w.map((function(e){return c.a.createElement(D,{key:e,value:e,onPress:t,isDark:n})})))},C=m.a.create({container:{flexDirection:"row",justifyContent:"center"},valueContainer:{marginHorizontal:8,elevation:4,marginVertical:4},valueCard:{alignItems:"center",borderRadius:8,height:50,justifyContent:"center",width:50}}),L=function(e){var t=e.roomId;return c.a.createElement(u.Card,{elevation:0,style:{flexShrink:1}},c.a.createElement(g.a,{style:{marginHorizontal:8,marginVertical:16,flexShrink:1}},c.a.createElement(u.Text,{style:p.headline5},"Room"),c.a.createElement(u.Text,{style:p.subtitle2,numberOfLines:2},"ID: "+t)))},x=function(e){var t=e.username;return c.a.createElement(u.Card,{elevation:0},c.a.createElement(g.a,{style:{marginHorizontal:8,marginVertical:16}},c.a.createElement(u.Text,{style:p.headline5},"User"),c.a.createElement(u.Text,{style:p.subtitle2},"username: "+t)))},P=function(e){var t=e.isDark,n=e.toggleTheme,a=Object(o.useState)(""),r=i()(a,2),s=r[0],m=r[1],d=Object(u.useTheme)().colors,b=O(s),y=b.vote,k=b.room,S=Object(o.useCallback)((function(e){m(e),l.a.setItem("username",e)}),[m]);return Object(o.useEffect)((function(){l.a.getItem("username").then((function(e){e&&m(e)}))}),[]),c.a.createElement(u.Surface,{style:[{backgroundColor:d.primary,paddingBottom:32},F.page]},c.a.createElement(u.Surface,{style:F.canvas},c.a.createElement(h,{mode:"space-between"},c.a.createElement(u.Text,{style:p.headline3},"Planning Poker \ud83c\udfb2"),c.a.createElement(f.a,{value:t,onChange:n})),c.a.createElement(g.a,{style:{borderBottomColor:t?d.accent:d.primary,borderBottomWidth:2,alignSelf:"stretch"}}),c.a.createElement(h,{mode:"space-evenly"},c.a.createElement(g.a,{style:{flex:1,paddingRight:8}},c.a.createElement(L,{roomId:k.id})),c.a.createElement(g.a,{style:{flex:1,paddingLeft:8}},c.a.createElement(x,{username:s}))),c.a.createElement(g.a,{style:{alignSelf:"stretch",paddingVertical:8}},c.a.createElement(u.TextInput,{value:s,label:"Username",onChangeText:S})),c.a.createElement(g.a,{style:{paddingVertical:8}},c.a.createElement(T,{onValuePress:y,isDark:t})),c.a.createElement(v,{users:Object.values(k.users),isDark:t})))},F=m.a.create({page:{alignItems:"center",flex:1},canvas:{paddingHorizontal:16,paddingVertical:16,alignItems:"center",width:Object(d.a)("80%"),height:"100%"}}),I=function(){var e=Object(o.useState)("dark"===s.Appearance.getColorScheme()),t=i()(e,2),n=t[0],a=t[1];return Object(o.useEffect)((function(){var e=s.Appearance.addChangeListener((function(e){var t=e.colorScheme;a("dark"===t)}));return function(){return e.remove()}}),[]),n},W=n(10),z=n.n(W);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){z()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A={light:R(R({},u.DefaultTheme),{},{colors:R(R({},u.DefaultTheme.colors),{},{primary:"#00838f",accent:"#FfCDD2"})}),dark:R(R({},u.DarkTheme),{},{colors:R(R({},u.DarkTheme.colors),{},{primary:"#005662",accent:"#cb9ca1"})})};t.a=function(){var e=I(),t=Object(o.useState)(e),n=i()(t,2),a=n[0],r=n[1],f=Object(o.useCallback)((function(){r(!a),l.a.setItem("isDark",JSON.stringify(!a))}),[a,r]);return Object(o.useEffect)((function(){l.a.getItem("isDark").then((function(e){e&&r(JSON.parse(e))}))}),[]),c.a.createElement(s.AppearanceProvider,null,c.a.createElement(u.Provider,{theme:a?A.dark:A.light},c.a.createElement(P,{isDark:a,toggleTheme:f})))}},249:function(e,t,n){n(250),e.exports=n(455)},250:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/PlanningPokerApp/expo-service-worker.js",{scope:"/PlanningPokerApp/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[249,1,2]]]);
//# sourceMappingURL=app.155bbf63.chunk.js.map